คงฟังก์ชันแอดมินทั้งหมดไว้:
/admin/add_key - สำหรับสร้าง License Key ใหม่
/admin/toggle_key_status - สำหรับเปิด/ปิดการใช้งาน License Key
/admin/delete_key - สำหรับลบ License Key
/api/licenses - สำหรับดูรายการ License Key ทั้งหมด
แก้ไขฟังก์ชัน register_license() ให้:
ตรวจสอบว่า License Key ต้องมีอยู่ในระบบก่อน (ต้องถูกสร้างโดยแอดมิน)
ยอมให้ลงทะเบียนได้เฉพาะ License Key ที่มีอยู่แล้วและยังไม่ได้ผูกกับเครื่องใด
ส่งข้อความแจ้งเตือนที่เหมาะสมในแต่ละกรณี
ตอนนี้ระบบจะทำงานดังนี้:
แอดมินสามารถสร้างและจัดการ License Key ผ่าน Web Admin Panel ได้
ลูกค้าสามารถนำ License Key ที่ได้จากแอดมินมาใช้ในการลงทะเบียนและตรวจสอบได้
ลูกค้าไม่สามารถสร้าง License Key ใหม่ได้ ต้องใช้ Key ที่แอดมินสร้างให้เท่านั้น